# Conditional XFAIL settings
#
# Syntax (similar to a cron file):
#   [jobname] [compiler] [jenkins_configure] [netmod] [shmem_config] [force_am] [pmix] [sed of XFAIL]
#   Note that the [jobname] allows partial matches (see examples). Other
#   conditions only allows exact matches.
#
# Examples:
#   nightly gnu debug sockets auto noam sed -i "..."
#   This will apply the set the XFAIL when the job is "nightly-ancc" or
#   "nightly", the compiler is "gnu", the jenkins_configure is
#   "debug", provider is "sockets", shm configuration is "auto",
#   and force_am configuration is "noam".
#
# Important note:
#   The BSD sed on FreeBSD and OSX nodes has different parameters than the GNU
#   sed. You should use `gsed` than `sed` on them.
#
# For each build, all applied XFAILS will be summarized in
# ${SOURCE}/apply-xfail.sh
#
################################################################################
* * * * * * * sed -i "s+\(idup_comm_gen .*\)+\1 xfail=csr/mpich-ofi#982+g" test/mpi/threads/comm/testlist
* * * * * * * sed -i "s+\(idup_nb .*\)+\1 xfail=csr/mpich-ofi#967+g" test/mpi/threads/comm/testlist
* * * * * noam * sed -i "s+\(comm_idup .*\)+\1 xfail=csr/mpich-ofi#2068+g" test/mpi/threads/comm/testlist
* * * * * am * sed -i "s+\(^th_taskmanager .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/threads/spawn/testlist
* * * * * * * sed -i "s+\(dup_leak_test .*\)+\1 xfail=csr/mpich-ofi#2067+g" test/mpi/threads/comm/testlist
* * * * * * * sed -i "s+\(^comm_create_threads .*\)+\1 xfail=csr/mpich-ofi#2083+g" test/mpi/threads/comm/testlist
* * * * * noam * sed -i "s+\(^th_taskmanager .*\)+\1 xfail=csr/mpich-ofi#685+g" test/mpi/threads/spawn/testlist
* * * psm2 * noam * sed -i "s+\(^multispawn .*\)+\1 xfail=csr/mpich-ofi#2254+g" test/mpi/threads/spawn/testlist

* * debug * * * * sed -i "s+\(^reducelength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^ireducelength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^allreducelength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^iallreducelength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^reduceop .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^ireduceop .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^gatherlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^igatherlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^allgatherlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^iallgatherlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^alltoalllength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^scatterlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * debug * * * * sed -i "s+\(^iscatterlength .*\)+\1 xfail=csr/mpich-ofi#59+g" test/mpi/errors/coll/testlist
* * * * auto * * sed -i "s+\(^mt_accfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist
* * * * netmod * * sed -i "s+\(^mt_accfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist
* * * * no-odd-even * * sed -i "s+\(^mt_accfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist
* * * * auto * * sed -i "s+\(^mt_getaccfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist
* * * * netmod * * sed -i "s+\(^mt_getaccfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist
* * * * no-odd-even * * sed -i "s+\(^mt_getaccfence_normal .*\)+\1 xfail=csr/mpich-ofi#2139+g" test/mpi/threads/rma/testlist

* * * * * * * sed -i "s+\(^allred3.* env=MPIR_CVAR_IALLREDUCE_INTRA_ALGORITHM=gentran_recexch_single_buffer_without_dtcopy.*\)+\1 xfail=csr/mpich-ofi#1865+g" test/mpi/coll/testlist.cvar
* * * * * * * sed -i "s+\(^allred4.* env=MPIR_CVAR_IALLREDUCE_INTRA_ALGORITHM=gentran_recexch_single_buffer_without_dtcopy.*\)+\1 xfail=csr/mpich-ofi#1865+g" test/mpi/coll/testlist.cvar
* * * * * * * sed -i "s+\(^pingping.* arg=-sendcnt=1 .*\)+\1 xfail=csr/mpich-ofi#2485+g" test/mpi/pt2pt/testlist.dtp
* * * * * * * sed -i "s+\(^pingping.* arg=-sendcnt=17 .*\)+\1 xfail=csr/mpich-ofi#2485+g" test/mpi/pt2pt/testlist.dtp


* * * sockets * noam * sed -i "s+\(^i_hindexed .*\)+\1 xfail=csr/mpich-ofi#804+g" test/mpi/io/testlist
* * * * auto * * sed -i "s+\(^atomic_get_short_int .*\)+\1 xfail=pmodels/mpich#3380+g" test/mpi/rma/testlist
* * * * netmod * * sed -i "s+\(^atomic_get_short_int .*\)+\1 xfail=pmodels/mpich#3380+g" test/mpi/rma/testlist
* * * * no-odd-even * * sed -i "s+\(^atomic_get_short_int .*\)+\1 xfail=pmodels/mpich#3380+g" test/mpi/rma/testlist

* * default sockets no-odd-even * * sed -i "s+\(^spaiccreate2 .*\)+\1 xfail=csr/mpich-ofi#1522+g" test/mpi/spawn/testlist
* * * sockets no-odd-even noam * sed -i "s+\(^disconnect3 .*\)+\1 xfail=csr/mpich-ofi#1722+g" test/mpi/spawn/testlist

* * * sockets * noam * sed -i "s+\(^dup_leak_test .*\)+\1 xfail=csr/mpich-ofi#1994+g" test/mpi/threads/comm/testlist
* * * * * noam * sed -i "s+\(^mt_.*_huge.* env=MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE=16384.*\)+\1 xfail=csr/mpich-ofi#2042+g" test/mpi/threads/pt2pt/testlist
* * * * * am * sed -i "s+\(^mt_.*_huge.* env=MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE=16384.*\)+\1 xfail=csr/mpich-ofi#2435+g" test/mpi/threads/pt2pt/testlist
* * * * * am * sed -i "s+\(^mt_.*_huge.* .*\)+\1 xfail=csr/mpich-ofi#2435+g" test/mpi/threads/pt2pt/testlist
* * debug psm2 auto am * sed -i "s+\(^multisend2 .*\)+\1 xfail=csr/mpich-ofi#2483+g" test/mpi/threads/pt2pt/testlist
* * debug psm2 auto am * sed -i "s+\(^multisend4 .*\)+\1 xfail=csr/mpich-ofi#2403+g" test/mpi/threads/pt2pt/testlist
* * debug * * noam * sed -i "s+\(^large_small_acc 2.*\)+\1 xfail=csr/mpich-ofi#2131+g" test/mpi/rma/testlist
* * * * no-odd-even noam * sed -i "s+\(^truncmsg_mrecv .*\)+\1 xfail=csr/mpich-ofi#2270+g" test/mpi/errors/pt2pt/testlist
* * debug sockets netmod noam * sed -i "s+\(^cas_type_check .*\)+\1 xfail=csr/mpich-ofi#2313+g" test/mpi/errors/rma/testlist

* * * * * noam * sed -i "s+\(^disconnect2 .*\)+\1 xfail=csr/mpich-ofi#2328+g" test/mpi/spawn/testlist

* * * sockets netmod noam * sed -i "s+\(^mt_improbe_sendrecv 2 arg=-iter=.* arg=-count=1 .*\)+\1 xfail=csr/mpich-ofi#2346+g" test/mpi/threads/pt2pt/testlist

################################################################################
#These tests are xfailed in master as well.
* * * * * * * sed -i "s+\(^large_acc_flush_local 3\)+\1 xfail=ticket3251+g" test/mpi/rma/testlist
* * * psm2 netmod noam * sed -i "s+\(^lockall_dt_flushall [0-9]* arg=-type=.* arg=-count=65530 arg=-seed=221 arg=-testsize=16 .*\)+\1 xfail=ticket#3932+g" test/mpi/rma/testlist.dtp
* * * * * am * sed -i "s+\(^truncmsg_mrecv .*\)+\1 xfail=ticket0+g" test/mpi/errors/pt2pt/testlist

###The following have been taken from master but the ticket number referred here is closed.
* * * * * * * sed -i "s+\(^getfence1 [0-9]* arg=-type=.* arg=-count=16000000 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^putfence1 [0-9]* arg=-type=.* arg=-count=16000000 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lock_contention_dt [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lock_dt.* [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lockall_dt.* [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^epochtest [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lock_contention_dt [0-9]* arg=-type=.* arg=-count=32768 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lock_dt.* [0-9]* arg=-type=.* arg=-count=32768 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^lockall_dt.* [0-9]* arg=-type=.* arg=-count=32768 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^accfence1 [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp
* * * * * * * sed -i "s+\(^accpscw1 [0-9]* arg=-type=.* arg=-count=262144 .*\)+\1 xfail=ticket2965+g" test/mpi/rma/testlist.dtp

################################################################################
# icc failures
* icc default sockets thread noam * sed -i "s+\(^nonblocking3.*\)+\1 xfail=csr/mpich-ofi#2186+g" test/mpi/coll/testlist
* icc default sockets auto noam * sed -i "s+\(^large_message.*\)+\1 xfail=csr/mpich-ofi#2225+g" test/mpi/pt2pt/testlist

################################################################################
# psm2-specific failures
* * * psm2 * noam * sed -i "s+\(^th_taskmanager .*\)+\1 xfail=csr/mpich-ofi#1066+g" test/mpi/threads/spawn/testlist
* * * psm2 * noam * sed -i "s+\(^spawnmanyarg .*\)+\1 xfail=csr/mpich-ofi#942+g" test/mpi/spawn/testlist
* * * psm2 * * * sed -i "s+\(^ic2 .*\)+\1 xfail=csr/mpich-ofi#971+g" test/mpi/comm/testlist
* * * psm2 * * * sed -i "s+\(^darray_pack 72\)+\1 xfail=csr/mpich-ofi#971+g" test/mpi/datatype/testlist
* * * psm2 * * * sed -i "s+\(^taskmanager .*\)+\1 xfail=csr/mpich-ofi#942+g" test/mpi/spawn/testlist
* * * psm2 * * * sed -i "s+\(^concurrent_spawns .*\)+\1 xfail=csr/mpich-ofi#953+g" test/mpi/spawn/testlist
* * * psm2 * * * sed -i "s+\(^spawn_rootargs .*\)+\1 xfail=csr/mpich-ofi#953+g" test/mpi/spawn/testlist
* * * psm2 * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_am_triggered_ops+g" test/mpi/coll/testlist.cvar
* * * psm2 * am * sed -i "s+\(^allgatherv4 4\)+\1 xfail=csr/mpich-ofi#2272+g" test/mpi/coll/testlist

* * * psm2 * * * sed -i "s+\(^mt_accfence_normal .*\)+\1 xfail=csr/mpich-ofi#2018+g" test/mpi/threads/rma/testlist
* * * psm2 * * * sed -i "s+\(^mt_getaccfence_normal .*\)+\1 xfail=csr/mpich-ofi#2018+g" test/mpi/threads/rma/testlist

################################################################################
# verbs;ofi_rxm-specific failures
* * * verbs;ofi_rxm * * * sed -i "s+\(^spawn2 .*\)+\1 xfail=csr/mpich-ofi#2248+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^taskmanager .*\)+\1 xfail=csr/mpich-ofi#2248+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^taskmanager .*\)+\1 xfail=csr/mpich-ofi#2248+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * noam * sed -i "s+\(^spawnmanyarg .*\)+\1 xfail=csr/mpich-ofi#2248+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^concurrent_spawns .*\)+\1 xfail=csr/mpich-ofi#2248+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_am_triggered_ops+g" test/mpi/coll/testlist.cvar
* * * verbs;ofi_rxm * * * sed -i "s+\(^disconnect_reconnect3 .*\)+\1 xfail=csr/mpich-ofi#2303+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^disconnect3 .*\)+\1 xfail=csr/mpich-ofi#2303+g" test/mpi/spawn/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^spawn_rootargs .*\)+\1 xfail=csr/mpich-ofi#2303+g" test/mpi/spawn/testlist

################################################################################
# am-specific failures

* * * * * am * sed -i "s+\(^mt_reqops .*\)+\1 xfail=csr/mpich-ofi#1953+g" test/mpi/threads/rma/testlist
* * * * * am * sed -i "s+\(^spawn1 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawn2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawninfo1 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnminfo1 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnintra .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnargv .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmanyarg .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmult2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spaconacc .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spaconacc2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^selfconacc .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spaiccreate .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spaiccreate2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^taskmanager .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^join .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect_reconnect .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect_reconnect2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect_reconnect3 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^multiple_ports .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^multiple_ports2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect2 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^disconnect3 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^concurrent_spawns .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^pgroup_connect_test .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawn_rootargs .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/spawn/testlist
* * * * * am * sed -i "s+\(^spawnf .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f77/spawn/testlist
* * * * * am * sed -i "s+\(^spawnargvf .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f77/spawn/testlist
* * * * * am * sed -i "s+\(^connaccf .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f77/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmultf .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f77/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmult2f .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f77/spawn/testlist
* * * * * am * sed -i "s+\(^spawnintrax .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/cxx/spawn/testlist
* * * * * am * sed -i "s+\(^spawnargvx .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/cxx/spawn/testlist
* * * * * am * sed -i "s+\(^selfconaccx .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/cxx/spawn/testlist
* * * * * am * sed -i "s+\(^spawnf90 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^spawnargvf90 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^connaccf90 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmultf90 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmult2f90 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^spawnargvf03 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^spawnmultf03 .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/f90/spawn/testlist
* * * * * am * sed -i "s+\(^badport .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/errors/spawn/testlist
* * * * * am * sed -i "s+\(^connect_timeout_no_accept .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/errors/spawn/testlist
* * * * * am * sed -i "s+\(^connect_timeout_mismatch .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/errors/spawn/testlist
* * * * * am * sed -i "s+\(^multispawn .*\)+\1 xfail=csr/mpich-ofi#965+g" test/mpi/threads/spawn/testlist
* * * * * am * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_am_triggered_ops+g" test/mpi/coll/testlist.cvar
* icc default sockets no-odd-even am * sed -i "s+\(^sendrecv1 .*\)+\1 xfail=mpich-ofi#2230+g" test/mpi/pt2pt/testlist.dtp
* * * * auto am * sed -i "s+\(^nonblocking .* env=MPIR_CVAR_COLLECTIVE_FALLBACK=silent .*\)+\1 xfail=mpich-ofi#2546+g" test/mpi/coll/testlist.cvar
* * * * netmod am * sed -i "s+\(^nonblocking .* env=MPIR_CVAR_COLLECTIVE_FALLBACK=silent .*\)+\1 xfail=mpich-ofi#2546+g" test/mpi/coll/testlist.cvar

* * * * auto am * sed -i "s+\(^[ip]*ssendf .*\)+\1 xfail=mpich#3915+g" test/mpi/f77/pt2pt/testlist
* * * * auto am * sed -i "s+\(^[ip]*ssendf90 .*\)+\1 xfail=mpich#3915+g" test/mpi/f90/pt2pt/testlist
* * * * auto am * sed -i "s+\(^[ip]*ssendf08 .*\)+\1 xfail=mpich#3915+g" test/mpi/f08/pt2pt/testlist

* * default * * * * sed -i "s+\(^icm .*\)+\1 xfail=csr/mpich-ofi#379+g" test/mpi/comm/testlist


################################################################################
## Triggered ops failure
* * * * * * * sed -i "s+\(^distgraph1 env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=csr/mpich-ofi#1896+g" test/mpi/topo/testlist
* * * * * * * sed -i "s+\(^comm_idup_comm env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=csr/mpich-ofi#2026+g" test/mpi/comm/testlist
* * * * thread * * sed -i "s+\(^comm_idup_mul env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=csr/mpich-ofi#2026+g" test/mpi/comm/testlist
* * * * * * * sed -i "s+\(^alltoall env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/threads/pt2pt/testlist
* * * * * * * sed -i "s+\(^atomic_get_float_int env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=csr/mpich-ofi#2039+g" test/mpi/rma/testlist
* * * * * * * sed -i "s+\(^atomic_get_2int env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=csr/mpich-ofi#2039+g" test/mpi/rma/testlist
* * * * * * * sed -i "s+\(^spawn_rootargs env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/spawn/testlist
* * * * * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_errors_triggered_ops+g" test/mpi/errors/coll/testlist
* * * * * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_errors_triggered_ops+g" test/mpi/errors/comm/testlist
* * * * * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_errors_triggered_ops+g" test/mpi/errors/topo/testlist
* * * * * * * sed -i "s+\(^allred3 env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar
* * * * * * * sed -i "s+\(^allred env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar
* * * * * * * sed -i "s+\(^allred2.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar
* * * * * * * sed -i "s+\(^allred6.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar

# In order to make triggered ops work on sockets, auto progress=on is required
# but the default capability set for sockets is auto progress=off, so default
# builds are not supported.
* * default * * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar
* * opt * * * * sed -i "s+\(^.* env=MPIR_CVAR_CH4_OFI_ENABLE_TRIGGERED=1 .*\)+\1 xfail=no_support_triggered_ops+g" test/mpi/coll/testlist.cvar

################################################################################
## Large tests for per-commit testing
nightly * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*count=262144.*\)+\1 xfail=performance+g" test/mpi/rma/testlist
per-commit * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*count=262144.*\)+\1 xfail=performance+g" test/mpi/rma/testlist
per-commit-gpu * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*count=262144.*\)+\1 xfail=performance+g" test/mpi/rma/testlist

################################################################################
## multinode-specific failures
## All IO tests
multinode * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi+g" test/mpi/f77/io/testlist
multinode * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi+g" test/mpi/f90/io/testlist
multinode * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi+g" test/mpi/cxx/io/testlist
multinode * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi+g" test/mpi/io/testlist
multinode * * psm2 * noam * sed -i "s+\(^large_type_sendrec .*\)+\1 xfail=csr/mpich-ofi#1966+g" test/mpi/datatype/testlist

################################################################################
## Validation xfails
#Comment out the testgroups except for attr, coll, rma, pt2pt
validation * * * * * * sed -i "s+\(^[a-z@].*\)+\#\1+g" test/mpi/testlist
validation * * * * * * sed -i "s+\#attr+attr+g" test/mpi/testlist
validation * * * * * * sed -i "s+\#coll+coll+g" test/mpi/testlist
validation * * * * * * sed -i "s+\#pt2pt+pt2pt+g" test/mpi/testlist
validation * * * * * * sed -i "s+\#\@rmadir+\@rmadir+g" test/mpi/testlist
#attr xfails
validation * * * * * * sed -i "s+\(^[a-z@].*\)+\#\1+g" test/mpi/attr/testlist.dtp
validation * * * * * * sed -i "s+\(^attr.* .*\)+\1 xfail=validation+g" test/mpi/attr/testlist
validation * * * * * * sed -i "s+\(key.* .*\)+\1 xfail=validation+g" test/mpi/attr/testlist
#Coll xfails
validation * * * * * * sed -i "s+\(^[a-z@].*\)+\#\1+g" test/mpi/coll/testlist.cvar
validation * * * * * * sed -i "s+\(^[a-z@].*\)+\#\1+g" test/mpi/coll/testlist.dtp
validation * * * * * * sed -i "s+\(^allredmany .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^reduce_local .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^alltoallw.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^allgather2 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^allgather3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^allgatherv2 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^allgatherv3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^allgather_struct .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^bcasttest .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^bcast_full .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^bcastzerotype .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll2 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll5 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll6 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll7 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll8 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll9 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll10 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll11 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^coll13 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^redscat 4\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^redscat3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^red_scat_block .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^redscatblk3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^gather.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(scan.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^scatter2 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^scatter3 .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^i.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(op.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^nonblocking.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(^nb.* .*\)+\1 xfail=validation+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(icbcast 4\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nonblocking 10\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicbcast .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nballtoall1 .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicallreduce .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicreduce .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicscatter .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicscatterv .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicallgatherv .*\) xfail=validation+\1+g" test/mpi/coll/testlist
validation * * * * * * sed -i "s+\(nbicbarrier .*\) xfail=validation+\1+g" test/mpi/coll/testlist
## RMA failure. Mark everything as xfail and unmark the required ones
validation * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=validation+g" test/mpi/rma/testlist
validation * * * * * * sed -i "s+\(putfidx 4\) xfail=validation+\1+g" test/mpi/rma/testlist
validation * * * * * * sed -i "s+\(test1 2\) xfail=validation+\1+g" test/mpi/rma/testlist
validation * * * * * * sed -i "s+\(window_creation 2\) xfail=validation+\1+g" test/mpi/rma/testlist
## pt2pt failure. Mark everything as xfail and unmark the required ones
validation * * * * * * sed -i "s+\(^[a-z@].*\)+\#\1+g" test/mpi/pt2pt/testlist.dtp
validation * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(sendrecv3 2\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(sendself 1\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(sendall 4\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(anyall 2\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(bsend5 4\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(bsendpending 2\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(icsend 4\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
validation * * * * * * sed -i "s+\(dtype_send 2\) xfail=validation+\1+g" test/mpi/pt2pt/testlist
#pt2pt gpu
validation * * * * * * sed -i "s+\(^.* .*sendcnt=17 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(^.* .*MPI_INT .*sendcnt=512 .*recvcnt=512 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(^.* .*MPI_INT .*sendcnt=512 .*recvcnt=1024 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(^.* .*sendcnt=1018 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(^.* .*sendcnt=65530 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(^.* .*sendcnt=262144 .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu
validation * * * * * * sed -i "s+\(pingping_barrier .*\)+\1 xfail=validation+g" test/mpi/pt2pt/testlist.gpu

#coll gpu
validation * * * * * * sed -i "s+\(bcast.* .* .*count=512 .*\) +\1 xfail=validation+g" test/mpi/coll/testlist.gpu
validation * * * * * * sed -i "s+\(bcast.* .* .*count=262144 .*\) +\1 xfail=validation+g" test/mpi/coll/testlist.gpu
validation * * * * * * sed -i "s+\(^.* env=MPIR_CVAR_COLLECTIVE_FALLBACK=silent .*\)+\1 xfail=validation+g" test/mpi/coll/testlist.gpu

# xfail list for the "direct" threading model (assuming single VCI)
* * debug * no-odd-even noam * sed -i "s+\(^ctxi?dup .*\)+\1 xfail=csr/mpich-ofi#1739+g" test/mpi/threads/comm/testlist

* * * psm2 * * * sed -i "s+\(^sendrecv_vci_assignment .*\)+\1 xfail=csr/mpich-ofi#1814+g" test/mpi/impls/mpich/threads/pt2pt/testlist
* * * * * * * sed -i "s+\(^comm_hint_value_match .*\)+\1 xfail=csr/mpich-ofi#missing_support+g" test/mpi/impls/mpich/comm/testlist

# xfail due to skl32 cluster issues
* * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2020+g" test/mpi/f77/io/testlist
* * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2020+g" test/mpi/f90/io/testlist
* * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2020+g" test/mpi/cxx/io/testlist

################################################################################
#xfail for PVARs test
* * * * * am * sed -i "s+\(^mpit_isendirecv .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * no-odd-even * * sed -i "s+\(^mpit_isendirecv .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * * am * sed -i "s+\(^multinic_mcomms .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * no-odd-even * * sed -i "s+\(^multinic_mcomms .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * * am * sed -i "s+\(^multinic_msendrecv .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * no-odd-even * * sed -i "s+\(^multinic_msendrecv .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * * am * sed -i "s+\(^multinic_infohints .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * no-odd-even * * sed -i "s+\(^multinic_infohints .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/pt2pt/testlist
* * * * * am * sed -i "s+\(^mpit_mputget .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/rma/testlist
* * * * no-odd-even * * sed -i "s+\(^mpit_mputget .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/rma/testlist
* * * * auto * * sed -i "s+\(^mpit_mputget .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/rma/testlist
* * * verbs;ofi_rxm * * * sed -i "s+\(^mpit_mputget .*\)+\1 xfail=mpich-ofi#2332+g" test/mpi/rma/testlist

################################################################################
# GPU-specific failures
* * * * * * * sed -i "s+\(^epochtest .*\)+\1 xfail=no_gpu_support_for_rma+g" test/mpi/rma/testlist.gpu
* * * * * * * sed -i "s+\(^getfence1 .*\)+\1 xfail=no_gpu_support_for_rma+g" test/mpi/rma/testlist.gpu
* * * * * * * sed -i "s+\(^putfence1 .*\)+\1 xfail=no_gpu_support_for_rma+g" test/mpi/rma/testlist.gpu
* * * * * * * sed -i "s+\(^putpscw1 .*\)+\1 xfail=no_gpu_support_for_rma+g" test/mpi/rma/testlist.gpu
* * * * * * * sed -i "s+\(^lock[a-z].* .*\)+\1 xfail=no_gpu_support_for_rma+g" test/mpi/rma/testlist.gpu
* * * verbs;ofi_rxm * * * sed -i "s+\([a-z0-9].* .*\)+\1 xfail=mpich-ofi#2575+g" test/mpi/rma/testlist.gpu

per-commit-gpu * * * * * * sed -i "s+\(pingping .*type=MPI_INT .*sendcnt=1 .*\) +\1 xfail=no_errors_gpu_branch+g" test/mpi/pt2pt/testlist.dtp
per-commit-gpu * * * * * * sed -i "s+\(pingping .*type=MPI_INT .*sendcnt=17 .*\) +\1 xfail=no_errors_gpu_branch+g" test/mpi/pt2pt/testlist.dtp
per-commit-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/spawn/testlist
per-commit-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/f77/spawn/testlist
per-commit-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/f90/spawn/testlist
per-commit-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/cxx/spawn/testlist
per-commit-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/threads/spawn/testlist
per-commit-gpu * * sockets netmod * * sed -i "s+\(cas_type_check .*\)+\1 xfail=a20_sockets_failure+g" test/mpi/errors/rma/testlist
per-commit-gpu * * verbs;ofi_rxm * * * sed -i "s+\(gather_big .*\)+\1 xfail=l0_malloc_4gb_limit+g" test/mpi/coll/testlist.cvar

nightly-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/spawn/testlist
nightly-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/f77/spawn/testlist
nightly-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/f90/spawn/testlist
nightly-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/cxx/spawn/testlist
nightly-gpu * * * * * * sed -i "s+\([a-z].* .*\)+\1 xfail=a20_spawn_fail_for_sockets+g" test/mpi/threads/spawn/testlist
nightly-gpu * * sockets netmod * * sed -i "s+\(cas_type_check .*\)+\1 xfail=a20_sockets_failure+g" test/mpi/errors/rma/testlist
nightly-gpu * * verbs;ofi_rxm * * * sed -i "s+\(gather_big .*\)+\1 xfail=l0_malloc_4gb_limit+g" test/mpi/coll/testlist.cvar
## Start of reduce GPU test size
* * * * * * * sed -i "s+\(pingping .*arg=-testsize=4 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(pingping .*arg=-testsize=8 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-testsize=16 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-testsize=256 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-testsize=512 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-testsize=256 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/rma/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-testsize=512 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/rma/testlist.gpu

## Large GPU test sizes
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendcnt=262144 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-recvcnt=262144 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendcnt=524288 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-recvcnt=524288 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
## Only shared-to-shared GPU tests
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendmem=device .*arg=-recvmem=shared .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendmem=reg_host .*arg=-recvmem=shared .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendmem=shared .*arg=-recvmem=device .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-sendmem=shared .*arg=-recvmem=reg_host .*\)+\1 xfail=slow_gpu_test+g" test/mpi/pt2pt/testlist.gpu
# GPU collectives test size
* * * * * * * sed -i "s+\(bcast_comm_world_only .*arg=-testsize=512 .*arg=-evenmemtype=device.*\)+\1 xfail=slow_gpu_test+g" test/mpi/coll/testlist.gpu
* * * * * * * sed -i "s+\(^[a-zA-Z0-9_]* .*arg=-type=MPI_INT:4\+MPI_DOUBLE:8 .*arg=-count=262144 .*\)+\1 xfail=slow_gpu_test+g" test/mpi/coll/testlist.gpu
## End of reduce GPU test size

################################################################################
# # non-pmix supported test
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/threads/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/f90/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/f77/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/f08/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/cxx/spawn/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2291+g" test/mpi/errors/spawn/testlist
* * * * * * pmix sed -i "s+\(^darray_pack 72\)+\1 xfail=csr/mpich-ofi#2292+g" test/mpi/datatype/testlist
* * * * * * pmix sed -i "s+\([a-z].* .*\)+\1 xfail=mpich-ofi#2293+g" test/mpi/coll/testlist.cvar
* * * * * * pmix sed -i "s+\(^timeout .*\)+\1 xfail=mpich-ofi#2295+g" test/mpi/init/testlist
################################################################################
# Integration reset failures
* * debug sockets auto noam * sed -i "s+\(^cas_type_check .*\)+\1 xfail=mpich-ofi#4307+g" test/mpi/errors/rma/testlist
* gnu debug * * * * sed -i "s+\(^rqfreeb .*\)+\1 xfail=mpich-ofi#4308+g" test/mpi/pt2pt/testlist
